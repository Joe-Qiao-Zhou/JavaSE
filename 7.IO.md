# IO

- 分为字符流和字节流
- 流在`close()`之前会先`flush()`



## 字节输出流OutputStream

- 抽象类，用于写入内容
- 常用方法
  - `void close()`
  - `void flush()`
  - `void write(byte[] b)`
  - `void write(byte[] b, int off, int len)`
  - `abstract void write(int b)`
  - `String.getBytes()`可以将字符串转化为字节数组
- 实现类**FileOutputStream**
  - 构造方法传入的参数可以为String和File，前者为路径，后者为文件
  - 为了实现追加写的功能，需要在构造方法中传入boolean类型的参数为true，false的话创建新文件覆盖原文件
  - 换行需要使用""\r\n.getBytes()



## 字节输入流InputSteam

- 抽象类，用于读取内容
- 与write()相对的方法为read()，可以传入一个字节数组byte[]提高效率，判断是否读到文件末尾：`while ((len = fis.read(bytes)) != -1){}`
- 每次2字节读"ABCDE"，最后一次输出ED，因为E覆盖C而D未被覆盖



## 缓冲流

- 增加缓冲区以提高读写效率，在类名前加上Buffered
- 字节输出流：构造方法中传入OutputStream[+int size]
- write()方法写入到流的内部缓冲区中，flush()方法才将缓冲区中的内容刷新到文件中
- 只需关闭缓冲流
- 字符输出流BUfferedWriter：void newLine()：写入一个行分隔符
- 字符输入流BuffedReader：void readLine()：读取一行，遇到换行回车就不读，可以用!=null循环读



## 字符输入流Reader

- 抽象类，用于读取字符
- 常用方法
  - int read()
  - int read(char[] c)
  - void close()
- 实现类FileReader



## 字符输出流Writer

- 可以直接写字符串

- 读取一行：`String readLine()`

## IO异常的处理

- 把close()方法放在finally代码块中，需要在try代码块外面先定义
- JDK7的特性：在try代码块后加()定义流对象，执行完毕后自动释放流，不需要finally代码块和`close()`
- JDK9：try代码块之前定义流对象，try后在()内引入变量名，如`(fis; fos)`



## Properties

- 继承了hashtable，键值均为字符串，是**唯一**和IO流结合的集合，可以通过`store()`方法将临时数据持久写入磁盘中，也可以通过`load()`方法将文件读取到集合中
- 常用方法
  - `setProperty(String key, String value)`
  - `Set<String> stringPropertyNames()`
  - `String value getProperty(String key)`
  - `store(输出流对象, String comments)`：comments一般为""
  - `load(输入流对象)`



## 序列化流

- 概念：把对象以流的形式写入文件中
- `ObjectOutputStream(OutputSteam实现类对象).writeObject(Object obj)`
- 要进行序列化和反序列化的类必须实现**Serializable接口**，里面没有方法，只是作为标记
- `Object ObjectInputStream(InputStream实现类对象).readObject()`：反序列化流；读的类必须实现接口，且必须有class文件
- transient关键字：与static相同，被修饰的成员变量不能被序列化
- 如果在系列化之后class文件发生了改变反序列化也不能成功，是因为每个类被赋予一个序列化id，可以在类中显性加入这个ID private static final long serialVersionID；
- 序列化集合：将多个对象存储在集合中，对集合序列化



## 打印流

- PrintStream
- setOut()方法改变输出目的地