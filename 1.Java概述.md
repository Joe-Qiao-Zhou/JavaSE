# Java概述

## **介绍**

- 半编译半解释
  - Java编译器**javac**先将代码**编译**为.class文件/字节码，然后由JVM**解释**执行
  - 其他编译型语言则是直接将代码编译成**机器码**执行，不同CPU指令集对应不同机器码
  - Java针对不同平台编写**虚拟机**，虚拟机加载字节码解释执行
  - 但其实硬件对于机器码也是解释执行的，因此所有语言最终都是解释执行的；而编译的本质是将高级语言转换为低级语言，javac的功能就已经满足了这一特性，因此还是倾向于说Java是门**编译型语言** [Ref](https://www.zhihu.com/question/19608553/answer/14702010)
- 分为JavaSE(包含标准的JVM和标准库)、JavaEE(虚拟机与SE相同)、JavaME

## **缩写**

![img](https://img2018.cnblogs.com/blog/1362965/201901/1362965-20190114161305916-1522316322.png)

- JVM：Java Virtual Machine，Java虚拟机；里面包括JVM和Java运行时基本类库rt.jar，可以理解为Java源码打成的jar包
- JRE：Java Runtime Environment，Java**运行**环境；没有编译器、调试器等开发工具，提供JVM在解释时需要调用的核心类库；**JVM/bin+lib=JRE**
- JDK：Java SE Development Kit，Java标准开发包，里面包括编译和运行Java程序所需的各种工具与资源，包括Java编译器、Java运行时环境和常用的Java类库等


- JSR：用于定义接口的规范，参考实现RI，兼容性测试套件TCK


- JSP：审核JSR的机构

## **安装与配置**

- https://www.runoob.com/w3cnote/windows10-java-setup.html https://www.java.com/zh-CN/download/help/path.html

## **Java特点**

- 无C++多继承、指针、内存管理等
- 不用手动管理对象生命周期
- 功能强大、简单易用、提供了各种框架
- 平台独立性和可移植性：write once, run anywhere，通过JVM完成跨平台：**将代码编译为.class文件->打包成.jar文件**
- 容易实现多线程
- 高性能：编译器编译为字节码
- 健壮性：强类型机制、异常处理、垃圾自动收集
- 容易开发分布式项目



# IDEA

## 快捷键

- | 快捷键位         | 功能                          |
  | ---------------- | ----------------------------- |
  | `Alt+Enter`      | 导入需要的包/自动生成局部变量 |
  | `Ctrl+Y/D`       | 删除所在行/添加               |
  | `Ctrl+Alt+L`     | 格式化                        |
  | `Ctrl+Alt+T`     | 加try catch等                 |
  | `Ctrl+/`         | 单行注释                      |
  | `Ctrl+Shift+/`   | 多行注释                      |
  | `Alt+Ins`        | 自动生成代码                  |
  | `Alt+Shift+箭头` | 移动代码                      |
  | `Shift+F6`       | 统一重命名                    |

## Debug

- 逐行执行代码
- 左键单击添加断点，哪里有bug添加到哪
- 右键选择debug执行
- F8逐行执行，F7进入方法，shift+F8跳出方法，F9跳到下一个断点/结束程序，`ctrl+F2`退出debug
- 在方法体或者方法定义处添加断点都行



# 基本语法

## **数据类型**

- 四类八种

<img src="C:\Users\91494\AppData\Roaming\Typora\typora-user-images\image-20211205220629256.png" alt="image-20211205220629256" style="zoom: 50%;" />

- float和long类型需要在后面加上标识

## 数据定义

- 加上`final`修饰符表示**常量**，指向位置不变，但值可以变

- `var`关键字用来**省略类名**

  ```java
  StringBuilder sb = new StringBuilder();
  var sb = new StringBuilder();
  ```

- **整数运算永远是精确的**，因为只存储整数部分，而浮点数由于二进制表示问题无法达到精确

- **空字符串""和null不同**，null表示还没有指向任何内存空间

- 对于引用类型而言，==是判断是否**指向同个对象**，要想判断内容相等得用**equals()**

## 数组

- 几种创建方式

  ```java
  // 1.先声明再分配空间最后赋值
  int[] arr;
  arr = new int[5];
  arr = {1,2,3,4,5};
  
  // 2.声明并分配空间，再赋值
  int[] arr = new int[5];
  arr = {1,2,3,4,5};
  
  // 3.声明分配赋值同时进行
  int[] arr = new int[]{1,2,3,4,5};
  int[] arr = {1,2,3,4,5};
  ```

- `spiralOrder(数组)`：用于顺时针打印螺旋矩阵

## 逻辑运算符

- 短路与`&&`、短路或`||`：先看第一个元素
- 逻辑与`&`、逻辑或`|`
- 按位运算符：与`&`、或`|`、非`~`、异或`^`

## 执行控制流程

- switch语句的简洁写法不需要写`break`，且可以使用`yield()`方法执行新线程

  ```java
  public class Main {
      public static void main(String[] args) {
          String fruit = "orange";
          int opt = switch (fruit) {
              // case "apple":
                  // 执行语句;
                  // break;
              case "apple" -> 1;
              case "pear", "mango" -> 2;
              default -> {
                  int code = fruit.hashCode();
                  yield code; // switch语句返回值
              }
          };
          System.out.println("opt = " + opt);
      }
  }
  ```
